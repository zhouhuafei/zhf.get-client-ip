"use strict";function getClientIp(e,n){var t=e.connection.remoteAddress||e.socket.remoteAddress||(e.connection.socket?e.connection.socket.remoteAddress:null);"nginx"===n&&(t=e.headers["x-real-ip"]||e.headers["x-forwarded-for"]||t);var r=t.split(",");return"nginx"===n&&(t=r[r.length-1]),-1!==t.indexOf("::ffff:")&&(t=t.substring(7)),t}module.exports=getClientIp;